<!DOCTYPE html>
<html>
  <head>
    <title>Profiler</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/profiler.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="#">API Performance Profiler</a>
        </div>
      </div>
    </div>

    <div class="container main">
      <div class="new-profiling">
        <h3>
          New Profiling
        </h3>

        <form class="form-inline pr-request-form">
          <input type="text" placeholder="Path" id="req-path">
          <select class="input-small" id="req-method">
            <option value="GET">GET</option>
            <option value="POST">POST</option>
            <option value="PUT">PUT</option>
            <option value="PATCH">PATCH</option>
            <option value="OPTIONS">OPTIONS</option>
          </select>
          <input type="text" placeholder="Data" id="req-data">
          <button type="submit" class="btn btn-info">Profile</button>
        </form>
      </div>

      <hr>

      <div class="container stats">

        <section class="hero-unit">
          <h2>Overview</h2>

          <table class="table pr-overview">
            <thead>
              <tr>
                <th>Step</th>
                <th>Total Duration</th>
                <th>% of Total</th>
                <th>From Start</th>
                <th>SQL Queries</th>
              </tr>
            </thead>
            <tbody>
              <script type="text/template" id="overview_row_tmpl">
                <tr>
                  <td class='pr-depth-{{ depth }}'>{{ name }}</td>
                  <td>{{ duration }}ms</td>
                  <td>{{ percent }}%</td>
                  <td>+{{ start }}ms</td>
                  <td>
                    <span class='badge badge-info'>{{ numSQL }}</span>
                    {{ sqlDuration }}ms
                  </td>
                </tr>
              </script>
            </tbody>
          </table>
        </section>

        <hr>

        <h3>SQL Queries Breakdown</h3>

        <table class="table pr-sql-timings">
          <thead>
            <tr>
              <th>SQL Query</th>
              <th>Duration</th>
              <th>% of Total</th>
              <th>From Start</th>
            </tr>
          </thead>
          <tbody>
            <script type="text/template" id="sql_row_tmpl">
              <tr>
                <td>
                  <pre>{{ sql }}</pre>
                  <details><summary>Stack trace</summary><pre>
                  {{ stack }}</pre></details></td>
                </td>
                <td>{{ duration }}ms</td>
                <td>{{ percent }}%</td>
                <td>+{{ start }}ms</td>
              </tr>
            </script>
          </tbody>
        </table>
      </div>

    </div> <!-- /main -->

    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/profiler.js"></script>
  </body>
</html>

